"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[58],{76687:function(K,h,n){n.r(h),n.d(h,{TotalAmountContext:function(){return y},TotalAmountContextProvider:function(){return k}});var g=n(48305),i=n.n(g),d=n(93236),s=n(62086),y=(0,d.createContext)(),k=function(F){var c=F.children,r=(0,d.useState)("0"),f=i()(r,2),e=f[0],P=f[1],B=(0,d.useState)("15000"),v=i()(B,2),j=v[0],a=v[1],O=(0,d.useState)("10000"),Z=i()(O,2),z=Z[0],S=Z[1],L=(0,d.useState)("0"),m=i()(L,2),p=m[0],_=m[1],M=(0,d.useState)("0"),N=i()(M,2),T=N[0],t=N[1],Q=function(u){t(u)},U=function(u){S(u)},D=function(u){a(u)},l=function(u){_(u)},C=function(u){P(u)};return(0,s.jsx)(y.Provider,{value:{totalAmount:e,LDtotalAmount:z,updateTotalAmount:C,updateLDTotalAmount:U,CPDtotalAmount:p,updateCPDTotalAmount:l,orderTotalAmount:j,updateOrderTotalAmount:D,orderQuantity:T,updateOrderQuantity:Q},children:c})}},47306:function(K,h,n){n.r(h),n.d(h,{HomeContent:function(){return P}});var g=n(48305),i=n.n(g),d=n(61283),s=n(18287),y=n(13905),k=n(34172),E=n(26792),F=n(82187),c=n.n(F),r=n(93236),f=n(76687),e=n(62086),P=function(v){var j,a=v.selectSku,O=v.addCar,Z=v.skuList,z=(0,r.useState)(!1),S=i()(z,2),L=S[0],m=S[1],p=(0,r.useContext)(f.TotalAmountContext),_=p.totalAmount,M=p.updateTotalAmount,N=(0,r.useState)(a==null||(j=a.stocks)===null||j===void 0?void 0:j[0]),T=i()(N,2),t=T[0],Q=T[1],U=(0,r.useState)(1),D=i()(U,2),l=D[0],C=D[1],x=(0,r.useState)(!1),u=i()(x,2),R=u[0],I=u[1],W=function(){m(!0)},b=function(A){Q(A),C(1)},H=function(){(t==null?void 0:t.quantity)===0||l===1||C(l-1)},$=function(){l===(t==null?void 0:t.quantity)||(t==null?void 0:t.quantity)===0||C(l+1)},q=function(){if((t==null?void 0:t.quantity)===0){d.ZP.warning("\u5546\u54C1\u5DF2\u552E\u7F44");return}var A={id:a==null?void 0:a.id,name:a==null?void 0:a.name,add_quantity:l,size:t,type:a==null?void 0:a.type},G=(0,E.Z)(_).add((0,E.Z)(A.add_quantity).times(A.size.inner_price)).toNumber().toFixed(2);M(G),I(!0),setTimeout(function(){O(A),d.ZP.success("\u6DFB\u52A0\u8D2D\u7269\u8F66\u6210\u529F"),I(!1),m(!1)},1e3)};return(0,e.jsxs)(s.Z,{className:"home-content-container",vertical:!0,justify:"center",align:"center",children:[(0,e.jsx)("div",{className:"header-cump",children:"\u9996\u9875  >  \u641C\u7D22\u7ED3\u679C  >  ".concat(a==null?void 0:a.name)}),(0,e.jsxs)(s.Z,{className:"tag",justify:"space-between",align:"center",children:[(0,e.jsxs)(s.Z,{children:[(0,e.jsx)("div",{className:"tag-item",children:"\u7EFC\u5408"}),(0,e.jsx)("div",{className:"tag-item",children:"\u9500\u91CF"}),(0,e.jsx)("div",{className:"tag-item",children:"\u4EF7\u683C"})]}),(0,e.jsx)("div",{className:"type-tag",children:"\u5F69\u5986"})]}),(0,e.jsx)(s.Z,{className:"card-container",justify:"start",wrap:"wrap",children:(0,e.jsxs)("div",{className:"sku-card",onClick:W,children:[(0,e.jsx)("div",{className:"sku-img",children:"\u7167\u7247"}),(0,e.jsx)("div",{className:"name",children:(a==null?void 0:a.name.length)>16?"".concat(a==null?void 0:a.name.slice(0,16),"..."):a==null?void 0:a.name}),(0,e.jsxs)("div",{className:"name inner",children:["\u5185\u8D2D\u4EF7\uFF1A",(0,e.jsx)("span",{style:{fontSize:"18px"},children:"\xA5".concat(a==null?void 0:a.stocks[0].inner_price)})]}),(0,e.jsxs)("div",{className:"name market",children:["\u5E02\u573A\u4EF7\uFF1A",(0,e.jsx)("span",{children:"\xA5".concat(a==null?void 0:a.stocks[0].market_price)})]}),(0,e.jsx)("div",{className:"sku-type",children:"\u5F69\u5986"})]})}),(0,e.jsx)(y.Z,{open:L,footer:null,onCancel:function(){return m(!1)},children:(0,e.jsx)(s.Z,{className:"selected-sku-modal",children:R?(0,e.jsx)(k.Z,{style:{width:"960px",height:"350px",margin:"0 auto",padding:"60px 0,"},size:"large"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"sku-img",children:"\u7167\u7247"}),(0,e.jsxs)(s.Z,{className:"sku-introduction",vertical:!0,justify:"space-between",children:[(0,e.jsx)("div",{className:"sku-type",children:"\u5F69\u5986"}),(0,e.jsx)("div",{className:"sku-name",children:a==null?void 0:a.name}),(0,e.jsx)("div",{className:"sku-status",children:"".concat(t==null?void 0:t.time,"/").concat(t==null?void 0:t.broken)}),(0,e.jsxs)("div",{className:"sku-limit-buy-quantity",children:["\u6700\u4F4E\u9650\u8D2D\u6570\uFF1A","1"]}),(0,e.jsxs)(s.Z,{className:"sku-price",align:"center",children:[(0,e.jsxs)("div",{className:"inner",children:["\u5185\u8D2D\u4EF7\uFF1A\xA5",t==null?void 0:t.inner_price]}),(0,e.jsxs)("div",{className:"market",children:["\u5E02\u573A\u4EF7\uFF1A\xA5",t==null?void 0:t.market_price]})]}),(0,e.jsxs)(s.Z,{className:"sku-size-select",vertical:!0,align:"start",children:[(0,e.jsx)("div",{className:"title",children:"\u89C4\u683C"}),(0,e.jsx)(s.Z,{className:"size-items",children:a==null?void 0:a.stocks.map(function(o){return(0,e.jsx)("div",{className:c()("size-item",{selected:(t==null?void 0:t.size)===o.size}),onClick:function(){b(o)},children:o.size})})})]}),(0,e.jsxs)(s.Z,{className:"sku-add-count",children:[(0,e.jsx)("div",{className:c()("quantity-btn",{disabled:(t==null?void 0:t.quantity)===0||l===1}),onClick:H,children:"-"}),(0,e.jsx)("div",{className:"quantity",children:l}),(0,e.jsx)("div",{className:c()("quantity-btn",{disabled:l===(t==null?void 0:t.quantity)||(t==null?void 0:t.quantity)===0}),onClick:$,children:"+"}),(0,e.jsx)("div",{className:c()("stock-quantity",{none:(t==null?void 0:t.quantity)===0}),children:(t==null?void 0:t.quantity)===0?"\u5DF2\u552E\u7F44":(t==null?void 0:t.quantity)>999?"\u5E93\u5B58999+":"\u5E93\u5B58".concat(t==null?void 0:t.quantity)})]}),(0,e.jsx)("div",{className:"add-shopping-car-btn",onClick:q,children:"\u52A0\u5165\u8D2D\u7269\u8F66"})]})]})})})]})}}}]);
